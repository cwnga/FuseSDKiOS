\hypertarget{protocol_fuse_delegate-p}{}\section{$<$Fuse\+Delegate$>$ Protocol Reference}
\label{protocol_fuse_delegate-p}\index{$<$\+Fuse\+Delegate$>$@{$<$\+Fuse\+Delegate$>$}}


This is main Fuse A\+P\+I delegate.  




{\ttfamily \#import $<$Fuse\+A\+P\+I.\+h$>$}

Inheritance diagram for $<$Fuse\+Delegate$>$\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{protocol_fuse_delegate-p}
\end{center}
\end{figure}
\subsection*{Instance Methods}
\begin{DoxyCompactItemize}
\item 
(void) -\/ \hyperlink{protocol_fuse_delegate-p_a4278f68e73dc20a7a24b331959a1872c}{session\+Start\+Received}
\begin{DoxyCompactList}\small\item\em This method indicates when the server has acknowledged that a session has been established by the client device. \end{DoxyCompactList}\item 
(void) -\/ \hyperlink{protocol_fuse_delegate-p_ada4bf22b446c79333c9fd15b39121603}{session\+Login\+Error\+:}
\begin{DoxyCompactList}\small\item\em This method is invoked when an error has occurred when trying to start a session. \end{DoxyCompactList}\item 
(void) -\/ \hyperlink{protocol_fuse_delegate-p_a85c5468cf940315584698956edcbbdfd}{time\+Updated\+:}
\begin{DoxyCompactList}\small\item\em This method indicates that the server U\+T\+C time has been received by the client device. \end{DoxyCompactList}\item 
(void) -\/ \hyperlink{protocol_fuse_delegate-p_a54a18530604a7ceeb0e9419fc7fa3345}{account\+Login\+Complete\+:\+Account\+:}
\begin{DoxyCompactList}\small\item\em This method notifies the device that an account login request has been received by the server. \end{DoxyCompactList}\item 
(void) -\/ \hyperlink{protocol_fuse_delegate-p_adfc133048b19e5c4b78c02c7bb418e5d}{account\+Login\+Error\+:\+Account\+:}
\begin{DoxyCompactList}\small\item\em This method notifies the device that an account login request has failed. \end{DoxyCompactList}\item 
(void) -\/ \hyperlink{protocol_fuse_delegate-p_afc6afbdf6a149756eb2dca5e0fd64b77}{notification\+Action\+:}
\begin{DoxyCompactList}\small\item\em This method indicates that an action should be taken as a result of a notification being closed. \end{DoxyCompactList}\item 
(void) -\/ \hyperlink{protocol_fuse_delegate-p_ac493f7599268adadcc22e7c508b4ba61}{notfication\+Will\+Close}
\begin{DoxyCompactList}\small\item\em This method indicates that a visible notification is being closed. \end{DoxyCompactList}\item 
(void) -\/ \hyperlink{protocol_fuse_delegate-p_a1da152418e0a5dc2c1b108f501c6e627}{game\+Configuration\+Received}
\begin{DoxyCompactList}\small\item\em This method indicates that the game configuration values have been received by the client. \end{DoxyCompactList}\item 
(void) -\/ \hyperlink{protocol_fuse_delegate-p_a3ec3a11edef788caa05c863ad6255d19}{friend\+Added\+:\+Error\+:}
\begin{DoxyCompactList}\small\item\em This method indicates the result of an addition of a friend to the Fuse friends list system. \end{DoxyCompactList}\item 
(void) -\/ \hyperlink{protocol_fuse_delegate-p_a12d1a890c681d2033be6339ce6e56113}{friend\+Removed\+:\+Error\+:}
\begin{DoxyCompactList}\small\item\em This method indicates the result of a removal of a friend to the Fuse friends list system. \end{DoxyCompactList}\item 
(void) -\/ \hyperlink{protocol_fuse_delegate-p_acf52e0c4576a87e4eb37913206cd9ae3}{friend\+Accepted\+:\+Error\+:}
\begin{DoxyCompactList}\small\item\em This method indicates the result of a acceptance of a friend to the Fuse friends list system. \end{DoxyCompactList}\item 
(void) -\/ \hyperlink{protocol_fuse_delegate-p_a8e0511594bb1f2502700e0fab33ba64a}{friend\+Rejected\+:\+Error\+:}
\begin{DoxyCompactList}\small\item\em This method indicates the result of a rejection of a friend to the Fuse friends list system. \end{DoxyCompactList}\item 
(void) -\/ \hyperlink{protocol_fuse_delegate-p_ac775d9f5c31ecd49516f807847f408d7}{friends\+Migrated\+:\+Error\+:}
\begin{DoxyCompactList}\small\item\em This method indicates the result of a rejection of a request to migrate friends from one account to another. \end{DoxyCompactList}\item 
(void) -\/ \hyperlink{protocol_fuse_delegate-p_a4b29ca96b491f3ac8548a85983aa0cff}{friends\+List\+Updated\+:}
\begin{DoxyCompactList}\small\item\em This method indicates when the friends list on the client has been updated from the server. \end{DoxyCompactList}\item 
(void) -\/ \hyperlink{protocol_fuse_delegate-p_ae3f6e6108bdf165e61c77bed22f10a1f}{friends\+List\+Error\+:}
\begin{DoxyCompactList}\small\item\em This method indicates when an error has occurred in fetching the friends list from the server. \end{DoxyCompactList}\item 
(void) -\/ \hyperlink{protocol_fuse_delegate-p_a49cea07cc02eebc3f99b8438abb0233f}{chat\+List\+Received\+:\+User\+:}
\begin{DoxyCompactList}\small\item\em This method is called as a result of requesting a user's chat list from the server. \end{DoxyCompactList}\item 
(void) -\/ \hyperlink{protocol_fuse_delegate-p_a645fcbccfd9d5555973f54752cfe83a0}{chat\+List\+Error\+:}
\begin{DoxyCompactList}\small\item\em This method will be called in response to an error occurring for any $<$\hyperlink{interface_fuse_a_p_i}{Fuse\+A\+P\+I}$>$ chat list methods. \end{DoxyCompactList}\item 
(void) -\/ \hyperlink{protocol_fuse_delegate-p_a74e3e8647db995888bdf94c64d5ad26b}{purchase\+Verification\+:\+Transaction\+I\+D\+:\+Original\+Transaction\+I\+D\+:}
\begin{DoxyCompactList}\small\item\em This method indicates whether the registered in-\/app purchase has been validated by Apple's servers. \end{DoxyCompactList}\item 
(void) -\/ \hyperlink{protocol_fuse_delegate-p_a588f6c19e418c6adbba67fd86c0b6515}{puchase\+Verification\+:\+Transaction\+I\+D\+:\+Original\+Transaction\+I\+D\+:}
\begin{DoxyCompactList}\small\item\em This method was a misspelt version of purchase\+Verification\+:\+Transaction\+I\+D\+:Original\+Transaction\+I\+D. \end{DoxyCompactList}\item 
(void) -\/ \hyperlink{protocol_fuse_delegate-p_ae40c6ea1e99546e883b1ec2e22f3553b}{mail\+List\+Recieved\+:\+User\+:}
\begin{DoxyCompactList}\small\item\em This method is invoked when a mail/gift list is returned from the server. \end{DoxyCompactList}\item 
(void) -\/ \hyperlink{protocol_fuse_delegate-p_ab75e1eb25416cb1407b1608c9bcd7320}{mail\+List\+Error\+:}
\begin{DoxyCompactList}\small\item\em This method is called when an error has occurred fetching the list of mail/gift messages. \end{DoxyCompactList}\item 
(void) -\/ \hyperlink{protocol_fuse_delegate-p_a3c1f1032a86f65de5ed1fab1cba3cf9a}{mail\+Acknowledged\+:\+User\+:\+Request\+I\+D\+:}
\begin{DoxyCompactList}\small\item\em This method is called to acknowledge a successful sending of a mail/gift to another user. \end{DoxyCompactList}\item 
(void) -\/ \hyperlink{protocol_fuse_delegate-p_a6b23517229b099af224dd32b30a925b1}{mail\+Error\+:\+Request\+I\+D\+:}
\begin{DoxyCompactList}\small\item\em This method is called when an error has occurred sending a mail messages. \end{DoxyCompactList}\item 
(void) -\/ \hyperlink{protocol_fuse_delegate-p_ae23c42e3423036d8964225ed735f0a64}{ad\+Availability\+Response\+:\+Error\+:}
\begin{DoxyCompactList}\small\item\em This method is called in response to a request to check for an ad in the Fuse system. \end{DoxyCompactList}\item 
(void) -\/ \hyperlink{protocol_fuse_delegate-p_a7db9bd489c7110189147e953491722ce}{rewarded\+Video\+Completed\+:}
\begin{DoxyCompactList}\small\item\em This method is called to acknowledge a successful rewarded Video Watch. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
This is main Fuse A\+P\+I delegate. 

This delegate is optional. However, relevant information might be passed to an object registered as a \hyperlink{interface_fuse_a_p_i}{Fuse\+A\+P\+I} delegate (application specific). A $<$\hyperlink{protocol_fuse_delegate-p}{Fuse\+Delegate}$>$ is registered in \hyperlink{interface_fuse_a_p_i_aab1649c81002a336ca872da6fef36b8d}{start\+Session\+:\+Delegate\+: (\+Fuse\+A\+P\+I)}. 

\subsection{Method Documentation}
\hypertarget{protocol_fuse_delegate-p_a54a18530604a7ceeb0e9419fc7fa3345}{}\index{Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}!account\+Login\+Complete\+:\+Account\+:@{account\+Login\+Complete\+:\+Account\+:}}
\index{account\+Login\+Complete\+:\+Account\+:@{account\+Login\+Complete\+:\+Account\+:}!Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}}
\subsubsection[{account\+Login\+Complete\+:\+Account\+:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) account\+Login\+Complete\+: 
\begin{DoxyParamCaption}
\item[{(N\+S\+Number $\ast$)}]{\+\_\+type}
\item[{Account:(N\+S\+String $\ast$)}]{\+\_\+account\+\_\+id}
\end{DoxyParamCaption}
\hspace{0.3cm}{\ttfamily [optional]}}\label{protocol_fuse_delegate-p_a54a18530604a7ceeb0e9419fc7fa3345}


This method notifies the device that an account login request has been received by the server. 

When a user logs in using one of the available \hyperlink{interface_fuse_a_p_i}{Fuse\+A\+P\+I} account method, for instance \hyperlink{interface_fuse_a_p_i_a02a3bc5562d4f6e50bac5339f4ac4046}{game\+Center\+Login\+: (\+Fuse\+A\+P\+I)}, the server will send the client a notification once received. This is to prevent any action being taken by the client before this has been received. 
\begin{DoxyParams}{Parameters}
{\em \+\_\+type} & \mbox{[}(N\+S\+Number$\ast$\mbox{]} Account type \\
\hline
{\em \+\_\+account\+\_\+id} & \mbox{[}N\+S\+String$\ast$\mbox{]} The account I\+D of the user logged in \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{interface_fuse_a_p_i_a02a3bc5562d4f6e50bac5339f4ac4046}{+ game\+Center\+Login\+: (\+Fuse\+A\+P\+I)} for a sample login method 
\end{DoxySeeAlso}
\hypertarget{protocol_fuse_delegate-p_adfc133048b19e5c4b78c02c7bb418e5d}{}\index{Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}!account\+Login\+Error\+:\+Account\+:@{account\+Login\+Error\+:\+Account\+:}}
\index{account\+Login\+Error\+:\+Account\+:@{account\+Login\+Error\+:\+Account\+:}!Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}}
\subsubsection[{account\+Login\+Error\+:\+Account\+:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) account\+Login\+Error\+: 
\begin{DoxyParamCaption}
\item[{(N\+S\+Number $\ast$)}]{\+\_\+error}
\item[{Account:(N\+S\+String $\ast$)}]{\+\_\+account\+\_\+id}
\end{DoxyParamCaption}
\hspace{0.3cm}{\ttfamily [optional]}}\label{protocol_fuse_delegate-p_adfc133048b19e5c4b78c02c7bb418e5d}


This method notifies the device that an account login request has failed. 

When a user logs in using one of the available \hyperlink{interface_fuse_a_p_i}{Fuse\+A\+P\+I} account method, for instance \hyperlink{interface_fuse_a_p_i_a02a3bc5562d4f6e50bac5339f4ac4046}{game\+Center\+Login\+: (\+Fuse\+A\+P\+I)}, the server will send the client a notification if there is any errors encountered. 
\begin{DoxyParams}{Parameters}
{\em \+\_\+error} & \mbox{[}N\+S\+Number$\ast$\mbox{]} The error value corresponding to a value in k\+Fuse\+Login\+Errors \\
\hline
{\em \+\_\+account\+\_\+id} & \mbox{[}N\+S\+String$\ast$\mbox{]} The account I\+D of the user attempted to log in \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{interface_fuse_a_p_i_a02a3bc5562d4f6e50bac5339f4ac4046}{+ game\+Center\+Login\+: (\+Fuse\+A\+P\+I)} for a sample login method 
\end{DoxySeeAlso}
\begin{DoxySince}{Since}
Fuse A\+P\+I version 1.\+29 
\end{DoxySince}
\hypertarget{protocol_fuse_delegate-p_ae23c42e3423036d8964225ed735f0a64}{}\index{Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}!ad\+Availability\+Response\+:\+Error\+:@{ad\+Availability\+Response\+:\+Error\+:}}
\index{ad\+Availability\+Response\+:\+Error\+:@{ad\+Availability\+Response\+:\+Error\+:}!Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}}
\subsubsection[{ad\+Availability\+Response\+:\+Error\+:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) ad\+Availability\+Response\+: 
\begin{DoxyParamCaption}
\item[{(N\+S\+Number $\ast$)}]{\+\_\+available}
\item[{Error:(N\+S\+Number $\ast$)}]{\+\_\+error}
\end{DoxyParamCaption}
\hspace{0.3cm}{\ttfamily [optional]}}\label{protocol_fuse_delegate-p_ae23c42e3423036d8964225ed735f0a64}


This method is called in response to a request to check for an ad in the Fuse system. 

As a result of the check\+Ad\+Available method, this method is invoked when the status of whether an ad is available is known. To handle this response\+:


\begin{DoxyCode}
-(void) adAvailabilityResponse:(NSNumber*)\_available Error:(NSNumber*)\_error
\{
   BOOL isAvailable = [\_available boolValue];
   \textcolor{keywordtype}{int} error = [\_error intValue];

   \textcolor{keywordflow}{if} (error != FUSE\_AD\_NO\_ERROR)
   \{
       \textcolor{comment}{// An error has occurred checking for the ad}
   \}
   \textcolor{keywordflow}{else}
   \{
       \textcolor{keywordflow}{if} (isAvailable)
       \{
           \textcolor{comment}{// An ad is available}
       \}
       \textcolor{keywordflow}{else}
       \{
           \textcolor{comment}{// An ad is not available}
       \}
   \}
\}
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
{\em \+\_\+available} & \mbox{[}N\+S\+Number $\ast$\mbox{]} This indicates whether an ad is available (boolean) \\
\hline
{\em \+\_\+error} & \mbox{[}N\+S\+Number $\ast$\mbox{]} This indicates whether an error has occurred and corresponds to values in k\+Fuse\+Ad\+Errors \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
check\+Ad\+Available for more information on how to invoke the process of checking for an ad 
\end{DoxySeeAlso}
\begin{DoxySince}{Since}
Fuse A\+P\+I version 1.\+26 
\end{DoxySince}
\hypertarget{protocol_fuse_delegate-p_a645fcbccfd9d5555973f54752cfe83a0}{}\index{Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}!chat\+List\+Error\+:@{chat\+List\+Error\+:}}
\index{chat\+List\+Error\+:@{chat\+List\+Error\+:}!Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}}
\subsubsection[{chat\+List\+Error\+:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) chat\+List\+Error\+: 
\begin{DoxyParamCaption}
\item[{(N\+S\+Number $\ast$)}]{\+\_\+error}
\end{DoxyParamCaption}
\hspace{0.3cm}{\ttfamily [optional]}}\label{protocol_fuse_delegate-p_a645fcbccfd9d5555973f54752cfe83a0}


This method will be called in response to an error occurring for any $<$\hyperlink{interface_fuse_a_p_i}{Fuse\+A\+P\+I}$>$ chat list methods. 


\begin{DoxyParams}{Parameters}
{\em \+\_\+error} & \mbox{[}N\+S\+Number$\ast$\mbox{]} The error code corresponding to a value in k\+Fuse\+Chat\+Errors \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{interface_fuse_a_p_i_a604c0c2eeaf0176e358ff5b35f7c3db3}{+ post\+User\+Chat\+Message\+:\+Target\+User\+: (\+Fuse\+A\+P\+I)} for more information on sending a chat message for a user 

k\+Fuse\+Chat\+Errors for more information on all of the error values 
\end{DoxySeeAlso}
\hypertarget{protocol_fuse_delegate-p_a49cea07cc02eebc3f99b8438abb0233f}{}\index{Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}!chat\+List\+Received\+:\+User\+:@{chat\+List\+Received\+:\+User\+:}}
\index{chat\+List\+Received\+:\+User\+:@{chat\+List\+Received\+:\+User\+:}!Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}}
\subsubsection[{chat\+List\+Received\+:\+User\+:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) chat\+List\+Received\+: 
\begin{DoxyParamCaption}
\item[{(N\+S\+Dictionary $\ast$)}]{\+\_\+messages}
\item[{User:(N\+S\+String $\ast$)}]{\+\_\+fuse\+\_\+id}
\end{DoxyParamCaption}
\hspace{0.3cm}{\ttfamily [optional]}}\label{protocol_fuse_delegate-p_a49cea07cc02eebc3f99b8438abb0233f}


This method is called as a result of requesting a user's chat list from the server. 

When invoked, this method will include the data payload of the chat list in the form of a dictionary. The structure of the dictionary is as follows\+:


\begin{DoxyCode}
-(void) chatListReceived:(NSDictionary*)\_messages User:(NSString*)\_fuse\_id
\{
   \textcolor{comment}{// Sample code for parsing the dictionary returned}
   \textcolor{keywordflow}{if} (\_messages != nil && [\_messages count] > 0)
   \{
       NSArray *keys = [\_messages allKeys];
       NSArray *sortedKeys = [keys sortedArrayUsingSelector:\textcolor{keyword}{@selector}(compare:)];

       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < [sortedKeys count]; i++)
       \{
           NSString *message\_id = [sortedKeys objectAtIndex:i];
           NSMutableDictionary *entry = (NSMutableDictionary*)[\_messages objectForKey:message\_id];

           NSLog(\textcolor{stringliteral}{@"%d [%@]: %@ -> %@"}, [message\_id intValue], [entry objectForKey:\textcolor{stringliteral}{@"timestamp"}], [entry 
      objectForKey:\textcolor{stringliteral}{@"alias"}], [entry objectForKey:\textcolor{stringliteral}{@"message"}]);
       \}
   \}
\}
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
{\em \+\_\+messages} & \mbox{[}N\+S\+Dictionary$\ast$\mbox{]} The message list \\
\hline
{\em \+\_\+fuse\+\_\+id} & \mbox{[}N\+S\+String$\ast$\mbox{]} The fuse I\+D for which the message list belongs \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{interface_fuse_a_p_i_ac27a75ba0171e2bd397cc2e5ce1de159}{+ get\+User\+Chat\+List\+From\+Server\+: (\+Fuse\+A\+P\+I)} for more information on requesting the chat list and triggering this callback 

\hyperlink{protocol_fuse_delegate-p_a645fcbccfd9d5555973f54752cfe83a0}{-\/ chat\+List\+Error\+:} for more information on handling an error in requesting the chat list 
\end{DoxySeeAlso}
\hypertarget{protocol_fuse_delegate-p_acf52e0c4576a87e4eb37913206cd9ae3}{}\index{Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}!friend\+Accepted\+:\+Error\+:@{friend\+Accepted\+:\+Error\+:}}
\index{friend\+Accepted\+:\+Error\+:@{friend\+Accepted\+:\+Error\+:}!Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}}
\subsubsection[{friend\+Accepted\+:\+Error\+:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) friend\+Accepted\+: 
\begin{DoxyParamCaption}
\item[{(N\+S\+String $\ast$)}]{\+\_\+fuse\+\_\+id}
\item[{Error:(N\+S\+Number $\ast$)}]{\+\_\+error}
\end{DoxyParamCaption}
\hspace{0.3cm}{\ttfamily [optional]}}\label{protocol_fuse_delegate-p_acf52e0c4576a87e4eb37913206cd9ae3}


This method indicates the result of a acceptance of a friend to the Fuse friends list system. 

This method is optional, and only needs to be handled if the application needs to respond to errors in accepting friends. An example implementation would be\+:


\begin{DoxyCode}
-(void) friendAccepted:(NSString*)\_fuse\_id Error:(NSNumber*)\_error
\{
   \textcolor{keywordflow}{if} ([\_error intValue] == FUSE\_ACCEPT\_FRIEND\_NO\_ERROR)
   \{
       \textcolor{comment}{// no error has occurred in accepting a friend}
   \}
   \textcolor{keywordflow}{else}
   \{
       \textcolor{comment}{// an error has occurred}
   \}
\}
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
{\em \+\_\+fuse\+\_\+id} & \mbox{[}N\+S\+String$\ast$\mbox{]} The fuse I\+D of the account for which the friend was accepted \\
\hline
{\em \+\_\+error} & \mbox{[}int\mbox{]} The error value corresponding to the a value in k\+Fuse\+Accept\+Friend\+Errors \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
k\+Fuse\+Accept\+Friend\+Errors for all possible error codes 

\hyperlink{interface_fuse_a_p_i_ae93cfa17f5b00ab1d28c53a8577c1af0}{+ accept\+Friend\+: (\+Fuse\+A\+P\+I)} for more information on accepting a friend 
\end{DoxySeeAlso}
\begin{DoxySince}{Since}
Fuse A\+P\+I version 1.\+22 
\end{DoxySince}
\hypertarget{protocol_fuse_delegate-p_a3ec3a11edef788caa05c863ad6255d19}{}\index{Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}!friend\+Added\+:\+Error\+:@{friend\+Added\+:\+Error\+:}}
\index{friend\+Added\+:\+Error\+:@{friend\+Added\+:\+Error\+:}!Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}}
\subsubsection[{friend\+Added\+:\+Error\+:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) friend\+Added\+: 
\begin{DoxyParamCaption}
\item[{(N\+S\+String $\ast$)}]{\+\_\+fuse\+\_\+id}
\item[{Error:(N\+S\+Number $\ast$)}]{\+\_\+error}
\end{DoxyParamCaption}
\hspace{0.3cm}{\ttfamily [optional]}}\label{protocol_fuse_delegate-p_a3ec3a11edef788caa05c863ad6255d19}


This method indicates the result of an addition of a friend to the Fuse friends list system. 

This method is optional, and only needs to be handled if the application needs to respond to errors in inviting friends. An example implementation would be\+:


\begin{DoxyCode}
-(void) friendAdded:(NSString*)\_fuse\_id Error:(NSNumber*)\_error
\{
   \textcolor{keywordflow}{if} ([\_error intValue] == FUSE\_ADD\_FRIEND\_NO\_ERROR)
   \{
       \textcolor{comment}{// no error has occurred in adding a friend}
   \}
   \textcolor{keywordflow}{else}
   \{
       \textcolor{comment}{// an error has occurred}
   \}
\}
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
{\em \+\_\+fuse\+\_\+id} & \mbox{[}N\+S\+String$\ast$\mbox{]} The fuse I\+D of the account for which the friend was added to \\
\hline
{\em \+\_\+error} & \mbox{[}int\mbox{]} The error value corresponding to the a value in k\+Fuse\+Add\+Friend\+Errors \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
k\+Fuse\+Add\+Friend\+Errors for all possible error codes 

\hyperlink{interface_fuse_a_p_i_a92b5888d1e5dafe2ab2a76fda44be4d8}{+ add\+Friend\+: (\+Fuse\+A\+P\+I)} for more information on adding a friend 
\end{DoxySeeAlso}
\begin{DoxySince}{Since}
Fuse A\+P\+I version 1.\+22 
\end{DoxySince}
\hypertarget{protocol_fuse_delegate-p_a8e0511594bb1f2502700e0fab33ba64a}{}\index{Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}!friend\+Rejected\+:\+Error\+:@{friend\+Rejected\+:\+Error\+:}}
\index{friend\+Rejected\+:\+Error\+:@{friend\+Rejected\+:\+Error\+:}!Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}}
\subsubsection[{friend\+Rejected\+:\+Error\+:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) friend\+Rejected\+: 
\begin{DoxyParamCaption}
\item[{(N\+S\+String $\ast$)}]{\+\_\+fuse\+\_\+id}
\item[{Error:(N\+S\+Number $\ast$)}]{\+\_\+error}
\end{DoxyParamCaption}
\hspace{0.3cm}{\ttfamily [optional]}}\label{protocol_fuse_delegate-p_a8e0511594bb1f2502700e0fab33ba64a}


This method indicates the result of a rejection of a friend to the Fuse friends list system. 

This method is optional, and only needs to be handled if the application needs to respond to errors in rejecting friends. An example implementation would be\+:


\begin{DoxyCode}
-(void) friendRejected:(NSString*)\_fuse\_id Error:(NSNumber*)\_error
\{
   \textcolor{keywordflow}{if} ([\_error intValue] == FUSE\_REJECT\_FRIEND\_NO\_ERROR)
   \{
       \textcolor{comment}{// no error has occurred in accepting a friend}
   \}
   \textcolor{keywordflow}{else}
   \{
       \textcolor{comment}{// an error has occurred}
   \}
\}
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
{\em \+\_\+fuse\+\_\+id} & \mbox{[}N\+S\+String$\ast$\mbox{]} The fuse I\+D of the account for which the friend was rejected \\
\hline
{\em \+\_\+error} & \mbox{[}int\mbox{]} The error value corresponding to the a value in k\+Fuse\+Reject\+Friend\+Errors \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
k\+Fuse\+Reject\+Friend\+Errors for all possible error codes 

\hyperlink{interface_fuse_a_p_i_a8af1416799fd2922db49ed1de406f537}{+ reject\+Friend\+: (\+Fuse\+A\+P\+I)} for more information on rejecting a friend 
\end{DoxySeeAlso}
\begin{DoxySince}{Since}
Fuse A\+P\+I version 1.\+22 
\end{DoxySince}
\hypertarget{protocol_fuse_delegate-p_a12d1a890c681d2033be6339ce6e56113}{}\index{Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}!friend\+Removed\+:\+Error\+:@{friend\+Removed\+:\+Error\+:}}
\index{friend\+Removed\+:\+Error\+:@{friend\+Removed\+:\+Error\+:}!Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}}
\subsubsection[{friend\+Removed\+:\+Error\+:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) friend\+Removed\+: 
\begin{DoxyParamCaption}
\item[{(N\+S\+String $\ast$)}]{\+\_\+fuse\+\_\+id}
\item[{Error:(N\+S\+Number $\ast$)}]{\+\_\+error}
\end{DoxyParamCaption}
\hspace{0.3cm}{\ttfamily [optional]}}\label{protocol_fuse_delegate-p_a12d1a890c681d2033be6339ce6e56113}


This method indicates the result of a removal of a friend to the Fuse friends list system. 

This method is optional, and only needs to be handled if the application needs to respond to errors in removing friends. An example implementation would be\+:


\begin{DoxyCode}
-(void) friendRemoved:(NSString*)\_fuse\_id Error:(NSNumber*)\_error
\{
   \textcolor{keywordflow}{if} ([\_error intValue] == FUSE\_REMOVE\_FRIEND\_NO\_ERROR)
   \{
       \textcolor{comment}{// no error has occurred in removing a friend}
   \}
   \textcolor{keywordflow}{else}
   \{
       \textcolor{comment}{// an error has occurred}
   \}
\}
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
{\em \+\_\+fuse\+\_\+id} & \mbox{[}N\+S\+String$\ast$\mbox{]} The fuse I\+D of the account for which the friend was removed \\
\hline
{\em \+\_\+error} & \mbox{[}int\mbox{]} The error value corresponding to the a value in k\+Fuse\+Remove\+Friend\+Errors \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
k\+Fuse\+Remove\+Friend\+Errors for all possible error codes 

\hyperlink{interface_fuse_a_p_i_a1556fd18ab2ae7f062c9d2ebbe2498fc}{+ remove\+Friend\+: (\+Fuse\+A\+P\+I)} for more information on removing a friend 
\end{DoxySeeAlso}
\begin{DoxySince}{Since}
Fuse A\+P\+I version 1.\+22 
\end{DoxySince}
\hypertarget{protocol_fuse_delegate-p_ae3f6e6108bdf165e61c77bed22f10a1f}{}\index{Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}!friends\+List\+Error\+:@{friends\+List\+Error\+:}}
\index{friends\+List\+Error\+:@{friends\+List\+Error\+:}!Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}}
\subsubsection[{friends\+List\+Error\+:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) friends\+List\+Error\+: 
\begin{DoxyParamCaption}
\item[{(N\+S\+Number $\ast$)}]{\+\_\+error}
\end{DoxyParamCaption}
\hspace{0.3cm}{\ttfamily [optional]}}\label{protocol_fuse_delegate-p_ae3f6e6108bdf165e61c77bed22f10a1f}


This method indicates when an error has occurred in fetching the friends list from the server. 

This method is a result of an error originating from the invocation of \hyperlink{interface_fuse_a_p_i_a11a92658dca5be9d79ca19a66bafb91e}{update\+Friends\+List\+From\+Server (\+Fuse\+A\+P\+I)} and indicates an error has occurred somewhere in the process.


\begin{DoxyCode}
-(void) friendsListError:(NSNumber*)\_error
\{
   \textcolor{keywordflow}{if} ([\_error intValue] != FUSE\_FRIENDS\_LIST\_NO\_ERROR)
   \{
       \textcolor{comment}{// An error has occurred}
   \}
\}
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
{\em \+\_\+error} & \mbox{[}int\mbox{]} The error value corresponding to the a value in k\+Fuse\+Friends\+List\+Errors \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{interface_fuse_a_p_i_a11a92658dca5be9d79ca19a66bafb91e}{+ update\+Friends\+List\+From\+Server (\+Fuse\+A\+P\+I)} or more information on requesting the friends list from the server 
\end{DoxySeeAlso}
\begin{DoxySince}{Since}
Fuse A\+P\+I version 1.\+22 
\end{DoxySince}
\hypertarget{protocol_fuse_delegate-p_a4b29ca96b491f3ac8548a85983aa0cff}{}\index{Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}!friends\+List\+Updated\+:@{friends\+List\+Updated\+:}}
\index{friends\+List\+Updated\+:@{friends\+List\+Updated\+:}!Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}}
\subsubsection[{friends\+List\+Updated\+:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) friends\+List\+Updated\+: 
\begin{DoxyParamCaption}
\item[{(N\+S\+Dictionary $\ast$)}]{\+\_\+friends\+List}
\end{DoxyParamCaption}
\hspace{0.3cm}{\ttfamily [optional]}}\label{protocol_fuse_delegate-p_a4b29ca96b491f3ac8548a85983aa0cff}


This method indicates when the friends list on the client has been updated from the server. 

Either on the first fetch or subsequent updates of the friends list, this method is called every time the friends list is updated on the client. A friends list is requested from the server using \hyperlink{interface_fuse_a_p_i_a11a92658dca5be9d79ca19a66bafb91e}{update\+Friends\+List\+From\+Server (\+Fuse\+A\+P\+I)} and the process invokes this method with a dictionary of friends when complete. A sample implementation would be\+:


\begin{DoxyCode}
-(void) friendsListUpdated:(NSDictionary*)\_friendsList
\{
   \textcolor{comment}{// The friends list has returned to the device}

   \textcolor{comment}{// sample code to parse the dictionary}
   NSArray *fuse\_ids = [\_friendsList allKeys];

   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < [fuse\_ids count]; i++)
   \{
       NSString *fuse\_id = [fuse\_ids objectAtIndex:i];

       NSDictionary *friendEntry = (NSDictionary*)[\_friendsList objectForKey:fuse\_id];

       NSLog(\textcolor{stringliteral}{@"Friend is Pending: %d"}, [[friendEntry objectForKey:\textcolor{stringliteral}{@"pending"}] intValue]);
       NSLog(\textcolor{stringliteral}{@"Friend Alias: %@"}, [friendEntry objectForKey:\textcolor{stringliteral}{@"alias"}]);
       NSLog(\textcolor{stringliteral}{@"Friend Fuse ID: %@"}, [friendEntry objectForKey:\textcolor{stringliteral}{@"fuse\_id"}]);
   \}
\}
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
{\em \+\_\+friends\+List} & \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{interface_fuse_a_p_i_a11a92658dca5be9d79ca19a66bafb91e}{+ update\+Friends\+List\+From\+Server (\+Fuse\+A\+P\+I)} or more information on requesting the friends list from the server 

\hyperlink{interface_fuse_a_p_i_a31d609ce39be3e6eda04fd32d8036e95}{+ get\+Friends\+List (\+Fuse\+A\+P\+I)} for more information on requesting the local copy of the friends list 

\hyperlink{protocol_fuse_delegate-p_ae3f6e6108bdf165e61c77bed22f10a1f}{-\/ friends\+List\+Error\+:} to handle errors involved in requesting the friends list from the Fuse server 
\end{DoxySeeAlso}
\begin{DoxySince}{Since}
Fuse A\+P\+I version 1.\+22 
\end{DoxySince}
\hypertarget{protocol_fuse_delegate-p_ac775d9f5c31ecd49516f807847f408d7}{}\index{Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}!friends\+Migrated\+:\+Error\+:@{friends\+Migrated\+:\+Error\+:}}
\index{friends\+Migrated\+:\+Error\+:@{friends\+Migrated\+:\+Error\+:}!Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}}
\subsubsection[{friends\+Migrated\+:\+Error\+:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) friends\+Migrated\+: 
\begin{DoxyParamCaption}
\item[{(N\+S\+String $\ast$)}]{\+\_\+fuse\+\_\+id}
\item[{Error:(N\+S\+Number $\ast$)}]{\+\_\+error}
\end{DoxyParamCaption}
\hspace{0.3cm}{\ttfamily [optional]}}\label{protocol_fuse_delegate-p_ac775d9f5c31ecd49516f807847f408d7}


This method indicates the result of a rejection of a request to migrate friends from one account to another. 

This method is optional, and only needs to be handled if the application needs to respond to errors in migrating friends. An example implementation would be\+:


\begin{DoxyCode}
-(void) friendsMigrated:(NSString*)\_fuse\_id Error:(NSNumber*)\_error
\{
    \textcolor{keywordflow}{if} ([\_error intValue] == FUSE\_MIGRATE\_FRIENDS\_NO\_ERROR)
    \{
        \textcolor{comment}{// no error has occurred in accepting a friend}
    \}
    \textcolor{keywordflow}{else}
    \{
        \textcolor{comment}{// an error has occurred}
    \}
\}
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
{\em \+\_\+fuse\+\_\+id} & \mbox{[}N\+S\+String$\ast$\mbox{]} The fuse I\+D of the account for which the friend's are to be migrated from \\
\hline
{\em \+\_\+error} & \mbox{[}int\mbox{]} The error value corresponding to the a value in k\+Fuse\+Migrate\+Friend\+Errors \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
k\+Fuse\+Migrate\+Friend\+Errors for all possible error codes 

\hyperlink{interface_fuse_a_p_i_a199e36abe741ecdf8062d1afddc6e146}{+ migrate\+Friends\+: (\+Fuse\+A\+P\+I)} for more information on migrating friends 
\end{DoxySeeAlso}
\begin{DoxySince}{Since}
Fuse A\+P\+I version 1.\+34.\+1 
\end{DoxySince}
\hypertarget{protocol_fuse_delegate-p_a1da152418e0a5dc2c1b108f501c6e627}{}\index{Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}!game\+Configuration\+Received@{game\+Configuration\+Received}}
\index{game\+Configuration\+Received@{game\+Configuration\+Received}!Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}}
\subsubsection[{game\+Configuration\+Received}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) game\+Configuration\+Received 
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
\hspace{0.3cm}{\ttfamily [optional]}}\label{protocol_fuse_delegate-p_a1da152418e0a5dc2c1b108f501c6e627}


This method indicates that the game configuration values have been received by the client. 

To avoid polling values before they are sent from the server, this callback can be used to determine when they are valid. These values are update when a user starts or resumes a session. \begin{DoxySeeAlso}{See also}
\hyperlink{interface_fuse_a_p_i_ab29213306801eba35d922754a5efa1b0}{+ get\+Game\+Configuration\+Value\+: (\+Fuse\+A\+P\+I)} for more information on reading game configuration values once valid 
\end{DoxySeeAlso}
\hypertarget{protocol_fuse_delegate-p_a3c1f1032a86f65de5ed1fab1cba3cf9a}{}\index{Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}!mail\+Acknowledged\+:\+User\+:\+Request\+I\+D\+:@{mail\+Acknowledged\+:\+User\+:\+Request\+I\+D\+:}}
\index{mail\+Acknowledged\+:\+User\+:\+Request\+I\+D\+:@{mail\+Acknowledged\+:\+User\+:\+Request\+I\+D\+:}!Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}}
\subsubsection[{mail\+Acknowledged\+:\+User\+:\+Request\+I\+D\+:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) mail\+Acknowledged\+: 
\begin{DoxyParamCaption}
\item[{(N\+S\+Number $\ast$)}]{\+\_\+message\+\_\+id}
\item[{User:(N\+S\+String $\ast$)}]{\+\_\+fuse\+\_\+id}
\item[{RequestID:(N\+S\+Number $\ast$)}]{\+\_\+request\+\_\+id}
\end{DoxyParamCaption}
\hspace{0.3cm}{\ttfamily [optional]}}\label{protocol_fuse_delegate-p_a3c1f1032a86f65de5ed1fab1cba3cf9a}


This method is called to acknowledge a successful sending of a mail/gift to another user. 

The method is called as a resulf of either \hyperlink{interface_fuse_a_p_i_a54502c5b37ad033b90c50bfcec461214}{send\+Mail\+:\+Message\+: (\+Fuse\+A\+P\+I)} or Fuse\+A\+P\+I\+::send\+Mail\+With\+Gift\+:\+Messge\+:\+Gift\+I\+D\+:\+Gift\+Amount\+:.


\begin{DoxyParams}{Parameters}
{\em \+\_\+message\+\_\+id} & \mbox{[}N\+S\+String $\ast$\mbox{]} The I\+D of the mail message \\
\hline
{\em \+\_\+fuse\+\_\+id} & \mbox{[}N\+S\+String $\ast$\mbox{]} The Fuse I\+D to which the mail message was sent \\
\hline
{\em \+\_\+request\+\_\+id} & \mbox{[}N\+S\+Number $\ast$\mbox{]} The request I\+D that was provided when the message was sent \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{interface_fuse_a_p_i_a54502c5b37ad033b90c50bfcec461214}{+ send\+Mail\+:\+Message\+: (\+Fuse\+A\+P\+I)} for more information on sending a mail message 

Fuse\+A\+P\+I\+::send\+Mail\+With\+Gift\+:\+Messge\+:\+Gift\+I\+D\+:\+Gift\+Amount\+: for more information on sending a mail message with a gift 
\end{DoxySeeAlso}
\begin{DoxySince}{Since}
Fuse A\+P\+I version 1.\+25 
\end{DoxySince}
\hypertarget{protocol_fuse_delegate-p_a6b23517229b099af224dd32b30a925b1}{}\index{Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}!mail\+Error\+:\+Request\+I\+D\+:@{mail\+Error\+:\+Request\+I\+D\+:}}
\index{mail\+Error\+:\+Request\+I\+D\+:@{mail\+Error\+:\+Request\+I\+D\+:}!Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}}
\subsubsection[{mail\+Error\+:\+Request\+I\+D\+:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) mail\+Error\+: 
\begin{DoxyParamCaption}
\item[{(N\+S\+Number $\ast$)}]{\+\_\+error}
\item[{RequestID:(N\+S\+Number $\ast$)}]{\+\_\+request\+\_\+id}
\end{DoxyParamCaption}
\hspace{0.3cm}{\ttfamily [optional]}}\label{protocol_fuse_delegate-p_a6b23517229b099af224dd32b30a925b1}


This method is called when an error has occurred sending a mail messages. 

If any error occurs while sending a mail message, this method is involed with an error code indicating the type of error.


\begin{DoxyCode}
-(void) mailError:(NSNumber*)\_error RequestID:(NSNumber*)\_request\_id
\{
   \textcolor{keywordflow}{if} ([\_error intValue] != FUSE\_MAIL\_NO\_ERROR)
   \{
       \textcolor{comment}{// An error has occurred}
   \}
\}
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
{\em \+\_\+error} & \mbox{[}N\+S\+Number$\ast$\mbox{]} The error code corresponding to a value in k\+Fuse\+Mail\+Errors \\
\hline
{\em \+\_\+request\+\_\+id} & \mbox{[}N\+S\+Number $\ast$\mbox{]} The request I\+D that was provided when the message was sent \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{interface_fuse_a_p_i_a54502c5b37ad033b90c50bfcec461214}{+ send\+Mail\+:\+Message\+: (\+Fuse\+A\+P\+I)} for more information on sending a mail message 

Fuse\+A\+P\+I\+::send\+Mail\+With\+Gift\+:\+Messge\+:\+Gift\+I\+D\+:\+Gift\+Amount\+: for more information on sending a mail message with a gift 
\end{DoxySeeAlso}
\begin{DoxySince}{Since}
Fuse A\+P\+I version 1.\+25 
\end{DoxySince}
\hypertarget{protocol_fuse_delegate-p_ab75e1eb25416cb1407b1608c9bcd7320}{}\index{Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}!mail\+List\+Error\+:@{mail\+List\+Error\+:}}
\index{mail\+List\+Error\+:@{mail\+List\+Error\+:}!Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}}
\subsubsection[{mail\+List\+Error\+:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) mail\+List\+Error\+: 
\begin{DoxyParamCaption}
\item[{(N\+S\+Number $\ast$)}]{\+\_\+error}
\end{DoxyParamCaption}
\hspace{0.3cm}{\ttfamily [optional]}}\label{protocol_fuse_delegate-p_ab75e1eb25416cb1407b1608c9bcd7320}


This method is called when an error has occurred fetching the list of mail/gift messages. 

If any error occurs while fetching the mail list from the server, this method is involed with an error code indicating the type of error.


\begin{DoxyCode}
-(void) mailListError:(NSNumber*)\_error
\{
   \textcolor{keywordflow}{if} ([\_error intValue] != FUSE\_MAIL\_NO\_ERROR)
   \{
       \textcolor{comment}{// An error has occurred}
   \}
\}
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
{\em \+\_\+error} & \mbox{[}N\+S\+Number$\ast$\mbox{]} The error code corresponding to a value in k\+Fuse\+Mail\+Errors \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{interface_fuse_a_p_i_aad5ae655f49cd199f4b42a8405640692}{+ get\+Mail\+List\+From\+Server (\+Fuse\+A\+P\+I)} for more information on retrieving the mail list for the currently signed in user from the server 

\hyperlink{interface_fuse_a_p_i_ad351b6973d78b9e50b73c3d77c884b90}{+ get\+Mail\+List\+Friend\+From\+Server\+: (\+Fuse\+A\+P\+I)} for more information on retrievinf the mail list for any user from the server 
\end{DoxySeeAlso}
\begin{DoxySince}{Since}
Fuse A\+P\+I version 1.\+25 
\end{DoxySince}
\hypertarget{protocol_fuse_delegate-p_ae40c6ea1e99546e883b1ec2e22f3553b}{}\index{Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}!mail\+List\+Recieved\+:\+User\+:@{mail\+List\+Recieved\+:\+User\+:}}
\index{mail\+List\+Recieved\+:\+User\+:@{mail\+List\+Recieved\+:\+User\+:}!Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}}
\subsubsection[{mail\+List\+Recieved\+:\+User\+:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) mail\+List\+Recieved\+: 
\begin{DoxyParamCaption}
\item[{(N\+S\+Dictionary $\ast$)}]{\+\_\+messages}
\item[{User:(N\+S\+String $\ast$)}]{\+\_\+fuse\+\_\+id}
\end{DoxyParamCaption}
\hspace{0.3cm}{\ttfamily [optional]}}\label{protocol_fuse_delegate-p_ae40c6ea1e99546e883b1ec2e22f3553b}


This method is invoked when a mail/gift list is returned from the server. 

This method is called in response to a \hyperlink{interface_fuse_a_p_i_aad5ae655f49cd199f4b42a8405640692}{get\+Mail\+List\+From\+Server (\+Fuse\+A\+P\+I)} or \hyperlink{interface_fuse_a_p_i_ad351b6973d78b9e50b73c3d77c884b90}{get\+Mail\+List\+Friend\+From\+Server\+: (\+Fuse\+A\+P\+I)}. To handle the returned list\+:


\begin{DoxyCode}
-(void) mailListRecieved:(NSDictionary*)\_messages User:(NSString*)\_fuse\_id;
\{
   \textcolor{keywordflow}{if} (\_messages != nil && [\_messages count] > 0)
   \{
       NSArray *keys = [\_messages allKeys];
       NSArray *sortedKeys = [keys sortedArrayUsingSelector:\textcolor{keyword}{@selector}(compare:)];

       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < [sortedKeys count]; i++)
       \{
           NSString *message\_id = [sortedKeys objectAtIndex:i];
           NSMutableDictionary *entry = (NSMutableDictionary*)[\_messages objectForKey:message\_id];

           NSLog(\textcolor{stringliteral}{@"%d [%@]: %@ -> %@  [Gift ID: %d, Gift Name: %@, Gift Amount: %d]"}, [message\_id intValue]
      , [entry objectForKey:\textcolor{stringliteral}{@"timestamp"}], [entry objectForKey:\textcolor{stringliteral}{@"alias"}], [entry objectForKey:\textcolor{stringliteral}{@"message"}], [[entry
       objectForKey:\textcolor{stringliteral}{@"gift\_id"}] intValue], [entry objectForKey:\textcolor{stringliteral}{@"gift\_name"}], [[entry objectForKey:\textcolor{stringliteral}{@"gift\_amount"}]
       intValue]);

           \textcolor{comment}{// Optional}
           [\hyperlink{interface_fuse_a_p_i}{FuseAPI} setMailAsReceived:[message\_id intValue]];
       \}
   \}
\}
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
{\em \+\_\+messages} & \mbox{[}N\+S\+Dictionary$\ast$\mbox{]} This is the list of messages/gifts \\
\hline
{\em \+\_\+fuse\+\_\+id} & \mbox{[}N\+S\+String$\ast$\mbox{]} The fuse I\+D for which the mail/gift list belongs \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{interface_fuse_a_p_i_aad5ae655f49cd199f4b42a8405640692}{+ get\+Mail\+List\+From\+Server (\+Fuse\+A\+P\+I)} for more information on retrieving the mail list for the currently signed in user from the server 

\hyperlink{interface_fuse_a_p_i_ad351b6973d78b9e50b73c3d77c884b90}{+ get\+Mail\+List\+Friend\+From\+Server\+: (\+Fuse\+A\+P\+I)} for more information on retrievinf the mail list for any user from the server 
\end{DoxySeeAlso}
\begin{DoxySince}{Since}
\hyperlink{interface_fuse_a_p_i}{Fuse\+A\+P\+I} version 1.\+25 
\end{DoxySince}
\hypertarget{protocol_fuse_delegate-p_ac493f7599268adadcc22e7c508b4ba61}{}\index{Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}!notfication\+Will\+Close@{notfication\+Will\+Close}}
\index{notfication\+Will\+Close@{notfication\+Will\+Close}!Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}}
\subsubsection[{notfication\+Will\+Close}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) notfication\+Will\+Close 
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
\hspace{0.3cm}{\ttfamily [optional]}}\label{protocol_fuse_delegate-p_ac493f7599268adadcc22e7c508b4ba61}


This method indicates that a visible notification is being closed. 

\begin{DoxySeeAlso}{See also}
\hyperlink{interface_fuse_a_p_i_a279e4cb8e95a3e78197761156a7de50d}{+ display\+Notifications (\+Fuse\+A\+P\+I)} for more information on displaying in-\/game notifications 
\end{DoxySeeAlso}
\hypertarget{protocol_fuse_delegate-p_afc6afbdf6a149756eb2dca5e0fd64b77}{}\index{Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}!notification\+Action\+:@{notification\+Action\+:}}
\index{notification\+Action\+:@{notification\+Action\+:}!Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}}
\subsubsection[{notification\+Action\+:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) notification\+Action\+: 
\begin{DoxyParamCaption}
\item[{(N\+S\+String $\ast$)}]{\+\_\+action}
\end{DoxyParamCaption}
\hspace{0.3cm}{\ttfamily [optional]}}\label{protocol_fuse_delegate-p_afc6afbdf6a149756eb2dca5e0fd64b77}


This method indicates that an action should be taken as a result of a notification being closed. 

To handle any possible action as a result of an in-\/game notification being displayed, a custom string can be configured as a part of the notification setup process in the Fuse dashboard. This string can be any value that is recognized by the application. For instance, a sample of this in action would be\+:


\begin{DoxyCode}
-(void) notificationAction:(NSString*)\_action
\{
   \textcolor{keywordflow}{if} ([\_action isEqualToString:\textcolor{stringliteral}{@"GO\_TO\_LEVEL\_2"}])
   \{
       \textcolor{comment}{// Take the user to level 2 for instance}
   \}
   \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ([\_action isEqualToString:\textcolor{stringliteral}{@"GO\_TO\_SALE"}])
   \{
       \textcolor{comment}{// Take the user to the sale section of your store}
   \}
\}
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
{\em \+\_\+action} & \mbox{[}N\+S\+String$\ast$\mbox{]} The string value that indicates what action to take. Custom and application specific. \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{interface_fuse_a_p_i_a279e4cb8e95a3e78197761156a7de50d}{+ display\+Notifications (\+Fuse\+A\+P\+I)} for more information on displaying in-\/game notifications 
\end{DoxySeeAlso}
\hypertarget{protocol_fuse_delegate-p_a588f6c19e418c6adbba67fd86c0b6515}{}\index{Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}!puchase\+Verification\+:\+Transaction\+I\+D\+:\+Original\+Transaction\+I\+D\+:@{puchase\+Verification\+:\+Transaction\+I\+D\+:\+Original\+Transaction\+I\+D\+:}}
\index{puchase\+Verification\+:\+Transaction\+I\+D\+:\+Original\+Transaction\+I\+D\+:@{puchase\+Verification\+:\+Transaction\+I\+D\+:\+Original\+Transaction\+I\+D\+:}!Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}}
\subsubsection[{puchase\+Verification\+:\+Transaction\+I\+D\+:\+Original\+Transaction\+I\+D\+:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) puchase\+Verification\+: 
\begin{DoxyParamCaption}
\item[{(N\+S\+Number $\ast$)}]{\+\_\+verified}
\item[{TransactionID:(N\+S\+String $\ast$)}]{\+\_\+tx\+\_\+id}
\item[{OriginalTransactionID:((deprecated))}]{\+\_\+\+\_\+attribute\+\_\+\+\_\+}
\end{DoxyParamCaption}
\hspace{0.3cm}{\ttfamily [optional]}}\label{protocol_fuse_delegate-p_a588f6c19e418c6adbba67fd86c0b6515}


This method was a misspelt version of purchase\+Verification\+:\+Transaction\+I\+D\+:Original\+Transaction\+I\+D. 

\begin{DoxyRefDesc}{Deprecated}
\item[\hyperlink{deprecated__deprecated000001}{Deprecated}]Since Fuse A\+P\+I version 1.\+25. Most people spell purchase with an 'r', but not me apparently. \end{DoxyRefDesc}
\hypertarget{protocol_fuse_delegate-p_a74e3e8647db995888bdf94c64d5ad26b}{}\index{Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}!purchase\+Verification\+:\+Transaction\+I\+D\+:\+Original\+Transaction\+I\+D\+:@{purchase\+Verification\+:\+Transaction\+I\+D\+:\+Original\+Transaction\+I\+D\+:}}
\index{purchase\+Verification\+:\+Transaction\+I\+D\+:\+Original\+Transaction\+I\+D\+:@{purchase\+Verification\+:\+Transaction\+I\+D\+:\+Original\+Transaction\+I\+D\+:}!Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}}
\subsubsection[{purchase\+Verification\+:\+Transaction\+I\+D\+:\+Original\+Transaction\+I\+D\+:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) purchase\+Verification\+: 
\begin{DoxyParamCaption}
\item[{(N\+S\+Number $\ast$)}]{\+\_\+verified}
\item[{TransactionID:(N\+S\+String $\ast$)}]{\+\_\+tx\+\_\+id}
\item[{OriginalTransactionID:(N\+S\+String $\ast$)}]{\+\_\+o\+\_\+tx\+\_\+id}
\end{DoxyParamCaption}
\hspace{0.3cm}{\ttfamily [optional]}}\label{protocol_fuse_delegate-p_a74e3e8647db995888bdf94c64d5ad26b}


This method indicates whether the registered in-\/app purchase has been validated by Apple's servers. 

This method is optional can indicates via the \+\_\+verified bit if the in-\/app purchase was valid. The Fuse servers initiate communication with Apple's in-\/app purchase verification servers once a call to \hyperlink{interface_fuse_a_p_i_a2dd50722daab117889c396ff58fe7c27}{register\+In\+App\+Purchase\+: (\+Fuse\+A\+P\+I)} is invoked. This callback is the result of that process. If the \+\_\+validated bit comes back as a '1', it can be safely concluded that the purchase is definitely valid. However, if the bit comes back as '0', the purchase should only be treated as suspect as it is not definitive at this point whether it was invalid or an error occurred in the process.


\begin{DoxyCode}
-(void) purchaseVerification:(NSNumber*)\_verified TransactionID:(NSString*)\_tx\_id OriginalTransactionID:(
      NSString*)\_o\_tx\_id
\{
   BOOL is\_valid = [\_verified boolValue];

   \textcolor{keywordflow}{if} (is\_valid)
   \{
       \textcolor{comment}{// valid transaction}
   \}
   \textcolor{keywordflow}{else}
   \{
       \textcolor{comment}{// suspect transaction}
   \}
\}
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
{\em \+\_\+verified} & \mbox{[}N\+S\+S\+Number$\ast$\mbox{]} This is the \+\_\+verified bit\+: 1 indicates that the transaction was valid. 0 indicates that the transaction should be treated with suspicion. \\
\hline
{\em \+\_\+tx\+\_\+id} & \mbox{[}N\+S\+String$\ast$\mbox{]} The transaction I\+D specified by Apple \\
\hline
{\em \+\_\+o\+\_\+tx\+\_\+id} & \mbox{[}N\+S\+String$\ast$\mbox{]} The original transaction I\+D specified by Apple (can be different than the transaction I\+D because the transaction could be a reinstatement of a previous purchase) \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{interface_fuse_a_p_i_a2dd50722daab117889c396ff58fe7c27}{+ register\+In\+App\+Purchase\+: (\+Fuse\+A\+P\+I)} for more information on how to invoke this process 
\end{DoxySeeAlso}
\hypertarget{protocol_fuse_delegate-p_a7db9bd489c7110189147e953491722ce}{}\index{Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}!rewarded\+Video\+Completed\+:@{rewarded\+Video\+Completed\+:}}
\index{rewarded\+Video\+Completed\+:@{rewarded\+Video\+Completed\+:}!Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}}
\subsubsection[{rewarded\+Video\+Completed\+:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) rewarded\+Video\+Completed\+: 
\begin{DoxyParamCaption}
\item[{(N\+S\+String $\ast$)}]{\+\_\+zone\+I\+D}
\end{DoxyParamCaption}
\hspace{0.3cm}{\ttfamily [optional]}}\label{protocol_fuse_delegate-p_a7db9bd489c7110189147e953491722ce}


This method is called to acknowledge a successful rewarded Video Watch. 


\begin{DoxyParams}{Parameters}
{\em \+\_\+zone\+I\+D} & \mbox{[}N\+S\+String $\ast$\mbox{]} The zone in which a rewarded video was watched in \\
\hline
\end{DoxyParams}
\begin{DoxySince}{Since}
Fuse A\+P\+I version 1.\+37.\+0 
\end{DoxySince}
\hypertarget{protocol_fuse_delegate-p_ada4bf22b446c79333c9fd15b39121603}{}\index{Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}!session\+Login\+Error\+:@{session\+Login\+Error\+:}}
\index{session\+Login\+Error\+:@{session\+Login\+Error\+:}!Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}}
\subsubsection[{session\+Login\+Error\+:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) session\+Login\+Error\+: 
\begin{DoxyParamCaption}
\item[{(N\+S\+Number $\ast$)}]{\+\_\+error}
\end{DoxyParamCaption}
\hspace{0.3cm}{\ttfamily [optional]}}\label{protocol_fuse_delegate-p_ada4bf22b446c79333c9fd15b39121603}


This method is invoked when an error has occurred when trying to start a session. 

To avoid cases where operations are continuing as if everything was being handled normally by the \hyperlink{interface_fuse_a_p_i}{Fuse\+A\+P\+I}, this can be listened to and actions taken as a result. This method is optional. 
\begin{DoxyParams}{Parameters}
{\em \+\_\+error} & \mbox{[}N\+S\+Number$\ast$\mbox{]} The error value corresponding to a value in k\+Fuse\+Errors \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{interface_fuse_a_p_i_aab1649c81002a336ca872da6fef36b8d}{+ start\+Session\+:\+Delegate\+: (\+Fuse\+A\+P\+I)} for more information on starting a session with a $<$\hyperlink{protocol_fuse_delegate-p}{Fuse\+Delegate}$>$ 

k\+Fuse\+Errors for more information on all possible error values 
\end{DoxySeeAlso}
\hypertarget{protocol_fuse_delegate-p_a4278f68e73dc20a7a24b331959a1872c}{}\index{Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}!session\+Start\+Received@{session\+Start\+Received}}
\index{session\+Start\+Received@{session\+Start\+Received}!Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}}
\subsubsection[{session\+Start\+Received}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) session\+Start\+Received 
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
\hspace{0.3cm}{\ttfamily [optional]}}\label{protocol_fuse_delegate-p_a4278f68e73dc20a7a24b331959a1872c}


This method indicates when the server has acknowledged that a session has been established by the client device. 

When a delegate is registered with the \hyperlink{interface_fuse_a_p_i_aab1649c81002a336ca872da6fef36b8d}{start\+Session\+:\+Delegate\+: (\+Fuse\+A\+P\+I)} method, and the acknowledgement of the connection has been received, this method is invoked. This method is optional and is only intended to help in cases where this information is relevant to the application. \begin{DoxySeeAlso}{See also}
\hyperlink{interface_fuse_a_p_i_aab1649c81002a336ca872da6fef36b8d}{+ start\+Session\+:\+Delegate\+: (\+Fuse\+A\+P\+I)} for more information on starting a session with a $<$\hyperlink{protocol_fuse_delegate-p}{Fuse\+Delegate}$>$ 
\end{DoxySeeAlso}
\hypertarget{protocol_fuse_delegate-p_a85c5468cf940315584698956edcbbdfd}{}\index{Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}!time\+Updated\+:@{time\+Updated\+:}}
\index{time\+Updated\+:@{time\+Updated\+:}!Fuse\+Delegate-\/p@{Fuse\+Delegate-\/p}}
\subsubsection[{time\+Updated\+:}]{\setlength{\rightskip}{0pt plus 5cm}-\/ (void) time\+Updated\+: 
\begin{DoxyParamCaption}
\item[{(N\+S\+Number $\ast$)}]{\+\_\+utc\+Time\+Stamp}
\end{DoxyParamCaption}
\hspace{0.3cm}{\ttfamily [optional]}}\label{protocol_fuse_delegate-p_a85c5468cf940315584698956edcbbdfd}


This method indicates that the server U\+T\+C time has been received by the client device. 

This method can be called both as a result of \hyperlink{interface_fuse_a_p_i_a60de732b9ecb7bce2439517cc2ca1f71}{utc\+Time\+From\+Server (\+Fuse\+A\+P\+I)} or automatically after a time event has been sent from the Fuse system (generally only happens when a session is started or resumed). The time should only be treated a psuedo-\/accurate. There are delays in propagating the time from the server to the device.


\begin{DoxyCode}
-(void) timeUpdated:(NSNumber*)\_utcTimeStamp
\{
   \textcolor{keywordtype}{int} utc\_unix\_timestamp = [utcTimeStamp intValue];
\}
\end{DoxyCode}



\begin{DoxyParams}{Parameters}
{\em \+\_\+utc\+Time\+Stamp} & \mbox{[}int\mbox{]} \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{interface_fuse_a_p_i_a60de732b9ecb7bce2439517cc2ca1f71}{+ utc\+Time\+From\+Server (\+Fuse\+A\+P\+I)} for more information on directly requesting the U\+T\+C time from the server 

\href{http://en.wikipedia.org/wiki/Unix_time}{\tt http\+://en.\+wikipedia.\+org/wiki/\+Unix\+\_\+time} for more information on Unix time 

\href{http://en.wikipedia.org/wiki/Coordinated_Universal_Time}{\tt http\+://en.\+wikipedia.\+org/wiki/\+Coordinated\+\_\+\+Universal\+\_\+\+Time} for more information on U\+T\+C time 
\end{DoxySeeAlso}


The documentation for this protocol was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/\+Users/buildmachine/buildmonkey/\+Fuse\+S\+D\+Ki\+O\+S-\/dev/\+Code/\+Classes/\+Fuse\+A\+P\+I/Fuse\+A\+P\+I.\+h\end{DoxyCompactItemize}
